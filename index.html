<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>JSON loose</title>
  </head>

  <body>
    <h1>Open your browser console to see the result!</h1>

    <script type="module">
      import jsonLoose from "https://cdn.jsdelivr.net/npm/json-loose/+esm"

      const input = `[
        "foo",
        true,
        [1, 2, wife],
        {
          [n]: 'Bambang Ekalaya',
          username: "@palgunadi",
          age: 30,
          address: [{city:city}, [country]],
          skills: skills,
          isStudent: true,
          relation: {
            wife: wife,
            guru: guru,
            [bar]: "qux"
          },
        },
      ],
      `

      const context = {
        n: "name",
        skills: "Archery",
        city: "Nishada",
        country: "Aravalli",
        wife: "Anggraini",
        guru: "Drona"
      }

      console.log(JSON.parse(jsonLoose(input)))
    </script>
  </body>
</html>
